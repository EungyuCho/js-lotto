var{BENEFIT_RATE_LABEL:e,LOTTO_ANSWER_INPUT:t,LUCKY_LOTTO_CONTAINER:n,PURCHAED_LOTTO_AMOUNT_LABEL:a,PURCHASE_INPUT:r,PURCHASED_LOTTO:o,TOGGLE_BUTTON:c,PURCHASED_LOTTO_VIEWER:s,TOGGLE_PURCHASE_MODE_BUTTON:i,MANUAL_LOTTO_CONTAINER:_,MANUAL_PURCHASE_CANCLE_BUTTON:T,MANUAL_PURCHASE_CONFIRM_BUTTON:l,MANUAL_LOTTO_MODAL:u}=Object.freeze({LUCKY_LOTTO_CONTAINER:"lucky-lotto-container",LOTTO_ANSWER_INPUT:"lotto-answer-input",PURCHASE_INPUT:"purchase-input",PURCHASED_LOTTO:"purchased-lotto",PURCHAED_LOTTO_AMOUNT_LABEL:"purchased-lotto-amount-label",PURCHASED_LOTTO_VIEWER:"purchased-lotto-viewer",BENEFIT_RATE_LABEL:"benefit-rate-label",TOGGLE_BUTTON:"TOGGLE_BUTTON",TOGGLE_PURCHASE_MODE_BUTTON:"TOGGLE_PURCHASE_PURCHASE_MODE_BUTTON",MANUAL_LOTTO_CONTAINER:"MANUAL_LOTTO_CONTAINER",MANUAL_PURCHASE_CANCLE_BUTTON:"MANUAL_PURCHASE_CANCLE_BUTTON",MANUAL_PURCHASE_CONFIRM_BUTTON:"MANUAL_PURCHASE_CONFIRM_BUTTON",MANUAL_LOTTO_MODAL:"MANUAL_LOTTO_MODAL"}),O=Object.freeze({purchase:"PURCHASE",toggleMyLotto:"TOGGLE_MY_LOTTO",toggleLottoPurchaseMode:"TOGGLE_LOTTO_PURCHASE_MODE",checkMyLottoResult:"CHECK_MY_LOTTO_RESULT",resetGame:"RESET_GAME",manualPurchaseCancle:"MANUAL_PURCHASE_CNACLE",manualPurchaseConfirm:"MANUAL_PURCHASE_CONFIRM"}),{BASE_LOTTO_NUMBERS:E,BONUS_LOTTO_NUMBER:A}=Object.freeze({BASE_LOTTO_NUMBERS:"BASE_LOTTO_NUMBERS",BONUS_LOTTO_NUMBER:"BONUS_LOTTO_NUMBER"}),{DISPLAY_NONE:L,MANUAL_LOTTO_NUMBER:N,MANUAL_LOTTO_NUMBER_CONTAINNER:m}=Object.freeze({DISPLAY_NONE:"d-none",MANUAL_LOTTO_NUMBER_CONTAINNER:"MANUAL_LOTTO_NUMBER_CONTAINNER",MANUAL_LOTTO_NUMBER:"MANUAL_LOTTO_NUMBER"}),{CY_BASE_LOTTO_INPUT:R,CY_BENEFIT_RATE_BUTTON:U,CY_BONUS_LOTTO_INPUT:d,CY_LOTTO_COUNT_LABEL:C,CY_LOTTO_DETAIL:h,CY_PURCHASE_BUTTON:M,CY_PURHCASE_INPUT:f,CY_RESET_GAME_BUTTON:v,CY_RESULT_LOTTO_BENEFIT_RATE_LABEL:b,CY_RESULT_LOTTO_RANK_LABEL:P,CY_TOGGLE_BUTTON:p,CY_TOGGLE_PURCHASE_MODE_BUTTON:S,CY_CONFIRM_MANUAL_PURCHASE:B,CY_CANCLE_MANUAL_PURCHASE:g}=Object.freeze({CY_PURHCASE_INPUT:"CY_PURCHASE_INPUT",CY_PURCHASE_BUTTON:"CY_PURCHASE_BUTTON",CY_LOTTO_COUNT_LABEL:"CY_LOTTO_COUNT_LABEL",CY_LOTTO_DETAIL:"CY_LOTTO_DETAIL",CY_RESULT_LOTTO_RANK_LABEL:"CY_RESULT_LOTTO_RANK_LABEL",CY_RESULT_LOTTO_BENEFIT_RATE_LABEL:"CY_RESULT_LOTTO_BENEFIT_RATE_LABEL",CY_BENEFIT_RATE_BUTTON:"CY_BENEFIT_RATE_BUTTON",CY_BASE_LOTTO_INPUT:"CY_BASE_LOTTO_INPUT",CY_BONUS_LOTTO_INPUT:"CY_BONUS_LOTTO_INPUT",CY_RESET_GAME_BUTTON:"CY_RESET_GAME_BUTTON",CY_TOGGLE_BUTTON:"CY_TOGGLE_BUTTON",CY_TOGGLE_PURCHASE_MODE_BUTTON:"CY_TOGGLE_PURCHASE_MODE_BUTTON",CY_CONFIRM_MANUAL_PURCHASE:"CY_CONFIRM_MANUAL_PURCHASE",CY_CANCLE_MANUAL_PURCHASE:"CY_CANCLE_MANUAL_PURCHASE"});class w extends class{constructor(e){this.$target=e,this.setup(),this.setEvent(),this.render()}setup(){}template(){return""}setEvent(){}render(){this.$target.innerHTML=this.template()}}{template(){return'\n            <h1 class="text-center">🎱 행운의 로또</h1>\n            <form class="mt-5" onsubmit="document.querySelector(\'button[data-event=PURCHASE]\').click(); return false;">\n                <div class="d-flex justify-between">\n                    <label class="mb-2 d-inline-block">구입할 금액을 입력해주세요.</label>\n                    <label class="switch">\n                    <input type="checkbox" class="lotto-numbers-toggle-button" data-event="'.concat(O.toggleLottoPurchaseMode,'" id="').concat(i,'" data-test-element="').concat(S,'" />\n                    <span class="text-base font-normal">수동 구매하기</span>\n                    </label>\n                </div>\n                <div class="d-flex">\n                    <input\n                        id="').concat(r,'"\n                        type="number"\n                        class="w-100 mr-2 pl-2"\n                        placeholder="구입 금액"\n                        data-test-element="').concat(f,'"\n                    />\n                    <button type="button" class="btn btn-cyan" data-event="').concat(O.purchase,'" data-test-element="').concat(M,'">확인</button>\n                </div>\n            </form>\n            <section class="mt-9 ').concat(L,'" id="').concat(o,'">\n                <div class="d-flex">\n                <label class="flex-auto my-0" id="').concat(a,'" data-test-element="').concat(C,'"></label>\n                <div class="flex-auto d-flex justify-end pr-1">\n                    <label class="switch">\n                    <input type="checkbox" class="lotto-numbers-toggle-button" data-event="').concat(O.toggleMyLotto,'" id="').concat(c,'" data-test-element="').concat(p,'" />\n                    <span class="text-base font-normal">번호보기</span>\n                    </label>\n                </div>\n                </div>\n                <div class="d-flex flex-wrap" id="').concat(s,'"></div>\n            </section>\n            <form class="mt-9 ').concat(L,'" id="').concat(t,'">\n            <label class="flex-auto d-inline-block mb-3"\n                >지난 주 당첨번호 6개와 보너스 넘버 1개를 입력해주세요.</label\n            >\n            <div class="d-flex" onsubmit="event.preventDefault(); document.querySelector(\'button[data-event=CHECK_MY_LOTTO_RESULT]\').click(); return false;">\n                <div>\n                <h4 class="mt-0 mb-3 text-center">당첨 번호</h4>\n                <div>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                </div>\n                </div>\n                <div class="bonus-number-container flex-grow">\n                <h4 class="mt-0 mb-3 text-center">보너스 번호</h4>\n                <div class="d-flex justify-center">\n                    <input type="number" class="bonus-number text-center" \n                    data-test-element="').concat(d,'" name="').concat(A,'"\n                     />\n                </div>\n                </div>\n            </div>\n            <button\n                type="button"\n                class="open-result-modal-button mt-5 btn btn-cyan w-100"\n                data-event="').concat(O.checkMyLottoResult,'"\n                data-test-element="').concat(U,'"\n            >\n                결과 확인하기!\n            </button>\n            </form>\n        ')}}var I=Object.freeze({price:1e3,maxLottoNumber:45,lottoNumberCount:7,maxMyLottoLimit:10}),y=Object.freeze({onClick:"click"}),{LOTTO_NUMBER_DUPLICATED_ERROR:x,LOTTO_NUMBER_EMPTY_ERROR:H,LOTTO_NUMBER_OUT_OF_RANGE_ERROR:Y,MY_LOTTO_LIMIT_ERROR:D,MANUAL_PURCHASE_AMOUNT_MESSAGE:G,MANUAL_PURCHASE_PROMPT_VALIDATION_ERROR:k,MANUAL_PURCHASE_PROMPT_NUMBER_OUT_OF_RANGE_ERROR:F,MANUAL_LOTTO_NUMBER_DUPLICATED_ERROR:j,MANUAL_LOTTO_NUMBER_VALIDATION_ERROR:z,MANUAL_LOTTO_AMOUNT_INCORRECT_ERROR:W}=Object.freeze({MY_LOTTO_LIMIT_ERROR:"로또는 ".concat(I.maxMyLottoLimit,"개 까지 구매할 수 있습니다."),LOTTO_NUMBER_OUT_OF_RANGE_ERROR:"로또 번호는 1번부터 ".concat(I.maxLottoNumber,"까지 입력 할 수 있습니다."),LOTTO_NUMBER_DUPLICATED_ERROR:"중복된 로또 번호가 있습니다.",LOTTO_NUMBER_EMPTY_ERROR:"입력되지 않거나 번호에 0을 입력한 로또 번호가 있습니다.",MANUAL_PURCHASE_AMOUNT_MESSAGE:"수동으로 구매 할 로또의 개수를 알려주세요.",MANUAL_PURCHASE_PROMPT_VALIDATION_ERROR:"숫자를 입력해주세요. 예) 5",MANUAL_PURCHASE_PROMPT_NUMBER_OUT_OF_RANGE_ERROR:"입력된 로또 개수가 유효하지 않습니다. (1 ~ ",MANUAL_LOTTO_NUMBER_VALIDATION_ERROR:"입력되지 않거나 입력한 번호가 유효하지 않은 입력창이 있습니다.",MANUAL_LOTTO_NUMBER_DUPLICATED_ERROR:"수동 구매 입력창에 중복된 로또 번호가 있습니다.",MANUAL_LOTTO_AMOUNT_INCORRECT_ERROR:"수동으로 구매한 로또의 개수가 유효하지 않습니다.(올바르지 않은 조작입니다.)"}),q=Object.freeze({fisrt:2e9,second:3e7,third:15e5,fourth:5e4,fifth:5e3}),K=Object.freeze({FIRST:6,SECOND:55,THIRD:5,FOURTH:4,FIFTH:5});function V(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function $(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Q(e,t,"get"))}function J(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Q(e,t,"set"),n),n}function Q(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var X={[K.FIFTH]:q.fifth,[K.FOURTH]:q.fourth,[K.THIRD]:q.third,[K.SECOND]:q.second,[K.FIRST]:q.fisrt},Z="auto_purchase",ee="manual_purchase",te=new WeakMap,ne=new WeakMap,ae=new WeakMap,re=new WeakMap,oe=new WeakMap;class ce{constructor(){V(this,te,{writable:!0,value:void 0}),V(this,ne,{writable:!0,value:void 0}),V(this,ae,{writable:!0,value:void 0}),V(this,re,{writable:!0,value:void 0}),V(this,oe,{writable:!0,value:void 0}),J(this,re,Z),this.initService()}initService(){J(this,ne,I.price||1e3),J(this,te,[]),J(this,ae,{base:[],bonus:0}),J(this,oe,{manualPurchaseAmount:0,totalPurchaseAmount:0})}manualPurchase(e){if(e.length!==$(this,oe).manualPurchaseAmount)return{success:!1,message:W};J(this,te,e);for(var t=$(this,oe).totalPurchaseAmount-$(this,oe).manualPurchaseAmount,n=0;n<t;n+=1)this.generateLottoNumber();return{success:!0}}autoPurchase(e,t){this.initService();for(var n=0;n<e;n+=1)this.generateLottoNumber(t?t[n]:null)}generateLottoNumber(e){$(this,te).push(this.getLottoNumbers(e))}getLottoNumbers(e){if(e)return e.slice(0,6);for(var t,n,a=new Set;a.size!==I.lottoNumberCount-1;){var r=Math.floor((t=1,n=I.maxLottoNumber+1,Math.random()*(n-t)+t));a.has(r)||a.add(r)}return Array.from(a)}calcLottoBenefit(){var e=new Map;$(this,te).forEach((t=>{var n=new Set,a=0;t.forEach((e=>{n.add(e)})),$(this,ae).base.forEach((e=>{n.has(e)&&(a+=1)})),5===a&&t.includes($(this,ae).bonus)?e.set(K.SECOND,(e.get(K.SECOND)||0)+1):X[a]&&e.set(a,(e.get(a)||0)+1)}));var t=0,n={};return e.forEach(((e,a)=>{t+=X[a]*e,n[a]=e})),{benefitRate:Math.floor(t/($(this,te).length*I.price)*100-100),rank:n}}isPurcaseModeAuto(){return $(this,re)===Z}changePurchaseMode(){J(this,re,this.isPurcaseModeAuto()?ee:Z)}set manualPurchaseInfo(e){var{manualPurchaseAmount:t,totalPurchaseAmount:n}=e;J(this,oe,{manualPurchaseAmount:t,totalPurchaseAmount:n})}set lottoAnswer(e){J(this,ae,e)}get myLottos(){return $(this,te)}get lottoPrice(){return $(this,ne)}}var se=e=>document.querySelector(e);function ie(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function _e(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,le(e,t,"get"))}function Te(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,le(e,t,"set"),n),n}function le(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var ue={[O.purchase]:e=>function(e){var t=Number(se("#"+r).value);if(0===t||t%e.lottoPrice!=0)return void alert(e.lottoPrice+"원 단위로 입력해주세요.");var n=t/e.lottoPrice;if(n>I.maxMyLottoLimit)return alert(D),se("#"+r).value="",e.initService(),void Ne();if(Ne(),e.isPurcaseModeAuto())return e.autoPurchase(n),me(!0),void Ue(e.myLottos);var a=Number(prompt(G+" (최대 ".concat(n,"개)")));if(isNaN(a))return void alert(k);if(a<1||a>n)return void alert(F+n+")");return e.manualPurchaseInfo={manualPurchaseAmount:a,totalPurchaseAmount:n},void function(e){Re(!0);var t='\n    <div class="'.concat(m,' mt-5">\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" />\n    </div>\n  ');se("#"+_).innerHTML=new Array(e).fill(t).join("")}(a)}(e),[O.checkMyLottoResult]:n=>function(n){var a=se("#"+t),r=new FormData(a),o=r.getAll(E).map((e=>Number(e))),c=Number(r.get(A)),s=function(e,t){return function(e,t){if(!t)return!0;for(var n of e)if(!n)return!0;return!1}(e,t)?{error:!0,message:H}:function(e,t){if(!Ae(t))return!0;for(var n of e)if(!Ae(n))return!0;return!1}(e,t)?{error:!0,message:Y}:function(e,t){var n=e.length+1,a=new Set;for(var r of(a.add(t),e))a.add(r);return a.size!==n}(e,t)?{error:!0,message:x}:{error:!1}}(o,c);if(s.error)return void alert(s.message);n.lottoAnswer={base:o,bonus:c};var i=n.calcLottoBenefit();document.querySelectorAll("td[data-rank-label]").forEach((e=>{var t=i.rank[Number(e.dataset.rankLabel)]||0;e.innerText=t+"개"})),se("#"+e).innerText="당신의 총 수익률은 ".concat(i.benefitRate,"%입니다."),se(".modal").classList.add("open")}(n),[O.toggleMyLotto]:()=>{Le(se("#"+c).checked)},[O.resetGame]:e=>function(e){e.initService(),Ne()}(e),[O.toggleLottoPurchaseMode]:e=>function(e){e.changePurchaseMode()}(e),[O.manualPurchaseCancle]:e=>{Re(!1)},[O.manualPurchaseConfirm]:e=>function(e){try{var t=(o=[],document.querySelectorAll("."+m).forEach((e=>{var t=new Set;e.querySelectorAll("."+N).forEach((e=>{var n=Number(e.value);if(n<=0||n>I.maxLottoNumber)throw new Error(z);if(t.has(n))throw new Error(j);t.add(n),6===t.size&&o.push([...t])}))})),o),{success:n,message:a}=e.manualPurchase(t);n||alert(a),me(!0),Ue(e.myLottos),Re(!1)}catch(e){var r=e.message;r===z&&r===j||alert(r)}var o}(e)},Oe=new WeakMap,Ee=new WeakMap;function Ae(e){return e>=0&&e<I.maxLottoNumber}function Le(e){document.querySelectorAll(".lotto-detail").forEach((t=>{t.style.display=e?"":"none"}))}function Ne(){var e=document.querySelector(".modal"),t=se("#"+c),n=se("#"+r),o=t.checked;me(!1),e.classList.remove("open"),n.value="",n.focus(),document.getElementsByName(E).forEach((e=>e.value="")),document.getElementsByName(A).forEach((e=>e.value="")),se("#"+a).innerText="총 0개를 구매하였습니다.",se("#"+s).innerHTML="",t.checked&&(Le(o),t.checked=!1)}function me(e){if(e)return se("#"+o).classList.remove(L),void se("#"+t).classList.remove(L);se("#"+o).classList.add(L),se("#"+t).classList.add(L)}function Re(e){if(e)return se("#"+u).classList.remove(L),void(se("#"+_).innerHTML="");se("#"+u).classList.add(L)}function Ue(e){se("#"+s).innerHTML="".concat(e.map((e=>{return t=e,'\n      <li class="mx-1 text-4xl lotto-wrapper">\n      <span class="lotto-icon">🎟️ </span>\n      <span class="lotto-detail" style="display: none;" data-test-element="'.concat(h,'"">').concat(t.reduce(((e,t)=>e+", "+t)),"</span>\n      </li>\n    ");var t})).join("")),se("#"+a).innerText="총 ".concat(e.length,"개를 구매하였습니다."),se("#"+a).dataset.count=e.length}new class{constructor(){ie(this,Oe,{writable:!0,value:void 0}),ie(this,Ee,{writable:!0,value:void 0}),Te(this,Oe,se("#"+n)),Te(this,Ee,new ce),new w(_e(this,Oe)),_e(this,Ee).lottoAnswer,this.setEvent()}setEvent(){_e(this,Oe).addEventListener(y.onClick,(e=>{var t=e.target.dataset.event;t&&ue[t](_e(this,Ee))})),se(".modal").addEventListener(y.onClick,(e=>{var t=e.target.dataset.event;t&&t===O.resetGame&&ue[t](_e(this,Ee))})),se("#"+u).addEventListener(y.onClick,(e=>{var t=e.target.dataset.event;t&&ue[t](_e(this,Ee))}))}};var de=document.querySelector(".modal-close"),Ce=document.querySelector(".modal");de.addEventListener("click",(()=>{Ce.classList.remove("open")}));
//# sourceMappingURL=index.8dbc6c52.js.map
