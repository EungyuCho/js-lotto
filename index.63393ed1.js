var{BENEFIT_RATE_LABEL:e,LOTTO_ANSWER_INPUT:t,LUCKY_LOTTO_CONTAINER:n,PURCHAED_LOTTO_AMOUNT_LABEL:a,PURCHASE_INPUT:o,PURCHASED_LOTTO:r,TOGGLE_BUTTON:c,PURCHASED_LOTTO_VIEWER:s}=Object.freeze({LUCKY_LOTTO_CONTAINER:"lucky-lotto-container",LOTTO_ANSWER_INPUT:"lotto-answer-input",PURCHASE_INPUT:"purchase-input",PURCHASED_LOTTO:"purchased-lotto",PURCHAED_LOTTO_AMOUNT_LABEL:"purchased-lotto-amount-label",PURCHASED_LOTTO_VIEWER:"purchased-lotto-viewer",BENEFIT_RATE_LABEL:"benefit-rate-label",TOGGLE_BUTTON:"TOGGLE_BUTTON"}),i=Object.freeze({purchase:"PURCHASE",toggleMyLotto:"TOGGLE_MY_LOTTO",checkMyLottoResult:"CHECK_MY_LOTTO_RESULT",resetGame:"RESET_GAME"}),{BASE_LOTTO_NUMBERS:l,BONUS_LOTTO_NUMBER:T}=Object.freeze({BASE_LOTTO_NUMBERS:"BASE_LOTTO_NUMBERS",BONUS_LOTTO_NUMBER:"BONUS_LOTTO_NUMBER"}),{DISPLAY_NONE:u}=Object.freeze({DISPLAY_NONE:"d-none"}),{CY_BASE_LOTTO_INPUT:_,CY_BENEFIT_RATE_BUTTON:O,CY_BONUS_LOTTO_INPUT:E,CY_LOTTO_COUNT_LABEL:m,CY_LOTTO_DETAIL:d,CY_PURCHASE_BUTTON:L,CY_PURHCASE_INPUT:f,CY_RESET_GAME_BUTTON:v,CY_RESULT_LOTTO_BENEFIT_RATE_LABEL:b,CY_RESULT_LOTTO_RANK_LABEL:h,CY_TOGGLE_BUTTON:N}=Object.freeze({CY_PURHCASE_INPUT:"CY_PURCHASE_INPUT",CY_PURCHASE_BUTTON:"CY_PURCHASE_BUTTON",CY_LOTTO_COUNT_LABEL:"CY_LOTTO_COUNT_LABEL",CY_LOTTO_DETAIL:"CY_LOTTO_DETAIL",CY_RESULT_LOTTO_RANK_LABEL:"CY_RESULT_LOTTO_RANK_LABEL",CY_RESULT_LOTTO_BENEFIT_RATE_LABEL:"CY_RESULT_LOTTO_BENEFIT_RATE_LABEL",CY_BENEFIT_RATE_BUTTON:"CY_BENEFIT_RATE_BUTTON",CY_BASE_LOTTO_INPUT:"CY_BASE_LOTTO_INPUT",CY_BONUS_LOTTO_INPUT:"CY_BONUS_LOTTO_INPUT",CY_RESET_GAME_BUTTON:"CY_RESET_GAME_BUTTON",CY_TOGGLE_BUTTON:"CY_TOGGLE_BUTTON"});class R extends class{constructor(e){this.$target=e,this.setup(),this.setEvent(),this.render()}setup(){}template(){return""}setEvent(){}render(){this.$target.innerHTML=this.template()}}{template(){return'\n            <h1 class="text-center">🎱 행운의 로또</h1>\n            <form class="mt-5" onsubmit="document.querySelector(\'button[data-event=PURCHASE]\').click(); return false;">\n                <label class="mb-2 d-inline-block">구입할 금액을 입력해주세요.</label>\n                <div class="d-flex">\n                    <input\n                        id="'.concat(o,'"\n                        type="number"\n                        class="w-100 mr-2 pl-2"\n                        placeholder="구입 금액"\n                        data-test-element="').concat(f,'"\n                    />\n                    <button type="button" class="btn btn-cyan" data-event="').concat(i.purchase,'" data-test-element="').concat(L,'">확인</button>\n                </div>\n            </form>\n            <section class="mt-9 ').concat(u,'" id="').concat(r,'">\n                <div class="d-flex">\n                <label class="flex-auto my-0" id="').concat(a,'" data-test-element="').concat(m,'"></label>\n                <div class="flex-auto d-flex justify-end pr-1">\n                    <label class="switch">\n                    <input type="checkbox" class="lotto-numbers-toggle-button" data-event="').concat(i.toggleMyLotto,'" id="').concat(c,'" data-test-element="').concat(N,'" />\n                    <span class="text-base font-normal">번호보기</span>\n                    </label>\n                </div>\n                </div>\n                <div class="d-flex flex-wrap" id="').concat(s,'"></div>\n            </section>\n            <form class="mt-9 ').concat(u,'" id="').concat(t,'">\n            <label class="flex-auto d-inline-block mb-3"\n                >지난 주 당첨번호 6개와 보너스 넘버 1개를 입력해주세요.</label\n            >\n            <div class="d-flex" onsubmit="event.preventDefault(); document.querySelector(\'button[data-event=CHECK_MY_LOTTO_RESULT]\').click(); return false;">\n                <div>\n                <h4 class="mt-0 mb-3 text-center">당첨 번호</h4>\n                <div>\n                    <input\n                    data-test-element="').concat(_,'"\n                    name="').concat(l,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(_,'"\n                    name="').concat(l,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(_,'"\n                    name="').concat(l,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(_,'"\n                    name="').concat(l,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(_,'"\n                    name="').concat(l,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(_,'"\n                    name="').concat(l,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                </div>\n                </div>\n                <div class="bonus-number-container flex-grow">\n                <h4 class="mt-0 mb-3 text-center">보너스 번호</h4>\n                <div class="d-flex justify-center">\n                    <input type="number" class="bonus-number text-center" \n                    data-test-element="').concat(E,'" name="').concat(T,'"\n                     />\n                </div>\n                </div>\n            </div>\n            <button\n                type="button"\n                class="open-result-modal-button mt-5 btn btn-cyan w-100"\n                data-event="').concat(i.checkMyLottoResult,'"\n                data-test-element="').concat(O,'"\n            >\n                결과 확인하기!\n            </button>\n            </form>\n        ')}}var U=Object.freeze({price:1e3,maxLottoNumber:45,lottoNumberCount:7,maxMyLottoLimit:10}),p=Object.freeze({onClick:"click"}),{LOTTO_NUMBER_DUPLICATED_ERROR:C,LOTTO_NUMBER_EMPTY_ERROR:A,LOTTO_NUMBER_OUT_OF_RANGE_ERROR:S,MY_LOTTO_LIMIT_ERROR:B}=Object.freeze({MY_LOTTO_LIMIT_ERROR:"로또는 ".concat(U.maxMyLottoLimit,"개 까지 구매할 수 있습니다."),LOTTO_NUMBER_OUT_OF_RANGE_ERROR:"로또 번호는 1번부터 ".concat(U.maxLottoNumber,"까지 입력 할 수 있습니다."),LOTTO_NUMBER_DUPLICATED_ERROR:"중복된 로또 번호가 있습니다.",LOTTO_NUMBER_EMPTY_ERROR:"입력되지 않거나 번호에 0을 입력한 로또 번호가 있습니다."}),g=Object.freeze({fisrt:2e9,second:3e7,third:15e5,fourth:5e4,fifth:5e3}),y=Object.freeze({FIRST:6,SECOND:55,THIRD:5,FOURTH:4,FIFTH:5});function w(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function M(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Y(e,t,"get"))}function x(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Y(e,t,"set"),n),n}function Y(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var I={[y.FIFTH]:g.fifth,[y.FOURTH]:g.fourth,[y.THIRD]:g.third,[y.SECOND]:g.second,[y.FIRST]:g.fisrt},P=new WeakMap,k=new WeakMap,H=new WeakMap;class D{constructor(){w(this,P,{writable:!0,value:void 0}),w(this,k,{writable:!0,value:void 0}),w(this,H,{writable:!0,value:void 0}),this.initService()}initService(){x(this,k,U.price||1e3),x(this,P,[]),x(this,H,{base:[],bonus:0})}autoPurchase(e,t){this.initService();for(var n=0;n<e;n+=1)this.generateLottoNumber(t?t[n]:null)}generateLottoNumber(e){M(this,P).push(this.getLottoNumbers(e))}getLottoNumbers(e){if(e)return e.slice(0,6);for(var t,n,a=new Set;a.size!==U.lottoNumberCount-1;){var o=Math.floor((t=1,n=U.maxLottoNumber+1,Math.random()*(n-t)+t));a.has(o)||a.add(o)}return Array.from(a)}calcLottoBenefit(){var e=new Map;M(this,P).forEach((t=>{var n=new Set,a=0;t.forEach((e=>{n.add(e)})),M(this,H).base.forEach((e=>{n.has(e)&&(a+=1)})),5===a&&t.includes(M(this,H).bonus)?e.set(y.SECOND,(e.get(y.SECOND)||0)+1):I[a]&&e.set(a,(e.get(a)||0)+1)}));var t=0,n={};return e.forEach(((e,a)=>{t+=I[a]*e,n[a]=e})),{benefitRate:Math.floor(t/(M(this,P).length*U.price)*100-100),rank:n}}set lottoAnswer(e){x(this,H,e)}get myLottos(){return M(this,P)}get lottoPrice(){return M(this,k)}}var G=e=>document.querySelector(e);function F(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function j(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,W(e,t,"get"))}function z(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,W(e,t,"set"),n),n}function W(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var q={[i.purchase]:e=>function(e){var t=Number(G("#"+o).value);if(0===t||t%e.lottoPrice!=0)return void alert(e.lottoPrice+"원 단위로 입력해주세요.");var n=t/e.lottoPrice;if(n>U.maxMyLottoLimit)return alert(B),G("#"+o).value="",e.initService(),void Q();Q(),e.autoPurchase(n),X(!0),r=e.myLottos,c=e=>'\n      <li class="mx-1 text-4xl lotto-wrapper">\n      <span class="lotto-icon">🎟️ </span>\n      <span class="lotto-detail" style="display: none;" data-test-element="'.concat(d,'"">').concat(e.reduce(((e,t)=>e+", "+t)),"</span>\n      </li>\n    "),G("#"+s).innerHTML="".concat(r.map((e=>c(e))).join("")),G("#"+a).innerText="총 ".concat(r.length,"개를 구매하였습니다."),G("#"+a).dataset.count=r.length;var r,c}(e),[i.checkMyLottoResult]:n=>function(n){var a=G("#"+t),o=new FormData(a),r=o.getAll(l).map((e=>Number(e))),c=Number(o.get(T)),s=function(e,t){return function(e,t){if(!t)return!0;for(var n of e)if(!n)return!0;return!1}(e,t)?{error:!0,message:A}:function(e,t){if(!$(t))return!0;for(var n of e)if(!$(n))return!0;return!1}(e,t)?{error:!0,message:S}:function(e,t){var n=e.length+1,a=new Set;for(var o of(a.add(t),e))a.add(o);return console.log(e),console.log(n),console.log(a),console.log(a.size!==n),a.size!==n}(e,t)?{error:!0,message:C}:{error:!1}}(r,c);if(console.log(s),s.error)return void alert(s.message);n.lottoAnswer={base:r,bonus:c};var i=n.calcLottoBenefit();document.querySelectorAll("td[data-rank-label]").forEach((e=>{var t=i.rank[Number(e.dataset.rankLabel)]||0;e.innerText=t+"개"})),G("#"+e).innerText="당신의 총 수익률은 ".concat(i.benefitRate,"%입니다."),G(".modal").classList.add("open")}(n),[i.toggleMyLotto]:()=>{J(G("#"+c).checked)},[i.resetGame]:e=>function(e){e.initService(),Q()}(e)},K=new WeakMap,V=new WeakMap;function $(e){return e>=0&&e<U.maxLottoNumber}function J(e){document.querySelectorAll(".lotto-detail").forEach((t=>{t.style.display=e?"":"none"}))}function Q(){var e=document.querySelector(".modal"),t=G("#"+c),n=G("#"+o),r=t.checked;X(!1),e.classList.remove("open"),n.value="",n.focus(),document.getElementsByName(l).forEach((e=>e.value="")),document.getElementsByName(T).forEach((e=>e.value="")),G("#"+a).innerText="총 0개를 구매하였습니다.",G("#"+s).innerHTML="",t.checked&&(J(r),t.checked=!1)}function X(e){if(e)return G("#"+r).classList.remove(u),void G("#"+t).classList.remove(u);G("#"+r).classList.add(u),G("#"+t).classList.add(u)}new class{constructor(){F(this,K,{writable:!0,value:void 0}),F(this,V,{writable:!0,value:void 0}),z(this,K,G("#"+n)),z(this,V,new D),new R(j(this,K)),this.setEvent()}setEvent(){j(this,K).addEventListener(p.onClick,(e=>{var t=e.target.dataset.event;t&&q[t](j(this,V))})),G(".modal").addEventListener(p.onClick,(e=>{var t=e.target.dataset.event;t&&t===i.resetGame&&q[t](j(this,V))}))}};var Z=document.querySelector(".modal-close"),ee=document.querySelector(".modal");Z.addEventListener("click",(()=>{ee.classList.remove("open")}));
//# sourceMappingURL=index.63393ed1.js.map
