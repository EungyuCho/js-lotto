var t=Object.freeze({luckyLottoContainer:"lucky-lotto-container",lottoAnswerInput:"lotto-answer-input",purchaseInput:"purchase-input",purchasedLotto:"purchased-lotto",purchasedLottoAmountLabel:"purchased-lotto-amount-label",benefitRateLabel:"benefit-rate-label",toggleButton:"TOGGLE_BUTTON"}),e=Object.freeze({purchase:"PURCHASE",toggleMyLotto:"TOGGLE_MY_LOTTO",checkMyLottoResult:"CHECK_MY_LOTTO_RESULT",resetGame:"RESET_GAME"}),n=Object.freeze({baseLottoNumbers:"BASE_LOTTO_NUMBERS",bonusLottoNumber:"BONUS_LOTTO_NUMBER"}),o=Object.freeze({displayNone:"d-none"}),a=Object.freeze({purchaseInput:"PURCHASE_INPUT",purchaseButton:"PURCHASE_BUTTON",lottoCountLabel:"LOTTO_COUNT_LABEL",toggleButton:"TOGGLE_BUTTON",lottoDetail:"LOTTO_DETAIL",resultLottoRankLabel:"RESULT_LOTTO_RANK_LABEL",resultLottoBenefitRateLabel:"RESULT_LOTTO_BENEFIT_RATE_LABEL",benefitRateButton:"BENEFIT_RATE_BUTTON",baseLottoInput:"BASE_LOTTO_INPUT",bonusLottoInput:"BONUS_LOTTO_INPUT"}),r=Object.freeze({price:1e3,maxLottoNumber:45,lottoNumberCount:7});class s extends class{constructor(t){this.$target=t,this.setup(),this.setEvent(),this.render()}setup(){}template(){return""}setEvent(){}render(){this.$target.innerHTML=this.template()}}{template(){return'\n            <h1 class="text-center">🎱 행운의 로또</h1>\n            <form class="mt-5" onsubmit="document.querySelector(\'button[data-event=PURCHASE]\').click(); return false;">\n                <label class="mb-2 d-inline-block">구입할 금액을 입력해주세요.</label>\n                <div class="d-flex">\n                    <input\n                        id="'.concat(t.purchaseInput,'"\n                        type="number"\n                        class="w-100 mr-2 pl-2"\n                        placeholder="구입 금액"\n                        data-test-element="').concat(a.purchaseInput,'"\n                    />\n                    <button type="button" class="btn btn-cyan" data-event="').concat(e.purchase,'" data-test-element="').concat(a.purchaseButton,'">확인</button>\n                </div>\n            </form>\n            <section class="mt-9 ').concat(o.displayNone,'" id="').concat(t.purchasedLotto,'">\n                <div class="d-flex">\n                <label class="flex-auto my-0" id="').concat(t.purchasedLottoAmountLabel,'" data-test-element="').concat(a.lottoCountLabel,'"></label>\n                <div class="flex-auto d-flex justify-end pr-1">\n                    <label class="switch">\n                    <input type="checkbox" class="lotto-numbers-toggle-button" data-event="').concat(e.toggleMyLotto,'" id="').concat(t.toggleButton,'" data-test-element="').concat(a.toggleButton,'" />\n                    <span class="text-base font-normal">번호보기</span>\n                    </label>\n                </div>\n                </div>\n                <div class="d-flex flex-wrap" id="').concat(t.purchasedLottoViewer,'"></div>\n            </section>\n            <form class="mt-9 ').concat(o.displayNone,'" id="').concat(t.lottoAnswerInput,'">\n            <label class="flex-auto d-inline-block mb-3"\n                >지난 주 당첨번호 6개와 보너스 넘버 1개를 입력해주세요.</label\n            >\n            <div class="d-flex" onsubmit="event.preventDefault(); document.querySelector(\'button[data-event=CHECK_MY_LOTTO_RESULT]\').click(); return false;">\n                <div>\n                <h4 class="mt-0 mb-3 text-center">당첨 번호</h4>\n                <div>\n                    <input\n                    name="').concat(n.baseLottoNumbers,'"\n                    data-test-element="').concat(a.baseLottoInput,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    name="').concat(n.baseLottoNumbers,'"\n                    data-test-element="').concat(a.baseLottoInput,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    name="').concat(n.baseLottoNumbers,'"\n                    data-test-element="').concat(a.baseLottoInput,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    name="').concat(n.baseLottoNumbers,'"\n                    data-test-element="').concat(a.baseLottoInput,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    name="').concat(n.baseLottoNumbers,'"\n                    data-test-element="').concat(a.baseLottoInput,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    name="').concat(n.baseLottoNumbers,'"\n                    data-test-element="').concat(a.baseLottoInput,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                </div>\n                </div>\n                <div class="bonus-number-container flex-grow">\n                <h4 class="mt-0 mb-3 text-center">보너스 번호</h4>\n                <div class="d-flex justify-center">\n                    <input type="number" class="bonus-number text-center" \n                    data-test-element="').concat(a.bonusLottoInput,'" name="').concat(n.bonusLottoNumber,'"\n                     />\n                </div>\n                </div>\n            </div>\n            <button\n                type="button"\n                class="open-result-modal-button mt-5 btn btn-cyan w-100"\n                data-event="').concat(e.checkMyLottoResult,'"\n                data-test-element="').concat(a.benefitRateButton,'"\n            >\n                결과 확인하기\n            </button>\n            </form>\n        ')}}var c=Object.freeze({onClick:"click"}),l=Object.freeze({fisrt:2e9,second:3e7,third:15e5,fourth:5e4,fifth:5e3}),u=Object.freeze({FIRST:6,SECOND:55,THIRD:5,FOURTH:4,FIFTH:5});function i(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function d(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,b(t,e,"get"))}function m(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,b(t,e,"set"),n),n}function b(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var p={[u.FIFTH]:l.fifth,[u.FOURTH]:l.fourth,[u.THIRD]:l.third,[u.SECOND]:l.second,[u.FIRST]:l.fisrt},h=new WeakMap,L=new WeakMap,f=new WeakMap;class v{constructor(){i(this,h,{writable:!0,value:void 0}),i(this,L,{writable:!0,value:void 0}),i(this,f,{writable:!0,value:void 0}),this.setInit()}setInit(){m(this,L,r.price||1e3),m(this,h,[]),m(this,f,{base:[],bonus:0})}autoPurchase(t,e){for(var n=0;n<t;n+=1)this.generatorLottoNumber(e?e[n]:null)}generatorLottoNumber(t){d(this,h).push(this.getLottoNumbers(t))}getLottoNumbers(t){if(t)return t.slice(0,6);for(var e,n,o=new Set;o.size!==r.lottoNumberCount-1;){var a=Math.floor((e=1,n=r.maxLottoNumber+1,Math.random()*(n-e)+e));o.has(a)||o.add(a)}return Array.from(o)}calcLottoBenefit(){var t=new Map;d(this,h).forEach((e=>{var n=new Set,o=0;e.forEach((t=>{n.add(t)})),d(this,f).base.forEach((t=>{n.has(t)&&(o+=1)})),5===o&&e.includes(d(this,f).bonus)?t.set(u.SECOND,(t.get(u.SECOND)||0)+1):p[o]&&t.set(o,(t.get(o)||0)+1)}));var e=0,n={};return t.forEach(((t,o)=>{console.log(o,t,p),e+=p[o]*t,n[o]=t})),{benefitRate:Math.floor(e/(d(this,h).length*r.price)*100-100),rank:n}}set lottoAnswer(t){m(this,f,t)}get myLottos(){return d(this,h)}get lottoPrice(){return d(this,L)}}var T=t=>document.querySelector(t);function g(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function w(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,E(t,e,"get"))}function y(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,E(t,e,"set"),n),n}function E(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var N={[e.purchase]:e=>function(e){var n=Number(T("#"+t.purchaseInput).value);if(0===n||n%e.lottoPrice!=0)return void alert(e.lottoPrice+"원 단위로 입력해주세요.");var o=n/e.lottoPrice;e.autoPurchase(o),k(!0),r=e.myLottos,s=t=>'\n      <li class="mx-1 text-4xl lotto-wrapper">\n      <span class="lotto-icon">🎟️ </span>\n      <span class="lotto-detail" style="display: none;" data-test-element="'.concat(a.lottoDetail,'"">').concat(t.reduce(((t,e)=>t+", "+e)),"</span>\n      </li>\n    "),T("#"+t.purchasedLottoViewer).innerHTML="".concat(r.map((t=>s(t))).join("")),T("#"+t.purchasedLottoAmountLabel).innerText="총 ".concat(r.length,"개를 구매하였습니다."),T("#"+t.purchasedLottoAmountLabel).dataset.count=r.length;var r,s}(e),[e.checkMyLottoResult]:e=>function(e){var o=T("#"+t.lottoAnswerInput);console.log("on2");var a=new FormData(o),s=a.getAll(n.baseLottoNumbers).map((t=>Number(t))),c=Number(a.get(n.bonusLottoNumber)),l=function(t,e){var n=new Set;if(!I(e))return{error:!0,message:"로또 번호는 1번부터 ".concat(r.maxLottoNumber,"까지 입력 할 수 있습니다.")};for(var o of(n.add(e),t)){if(!I(o)||n.has(o))return{error:!0,message:"중복된 로또 번호가 있습니다."};n.add(o)}return{error:!1}}(s,c);if(l.error)return void alert(l.message);e.lottoAnswer={base:s,bonus:c};var u=e.calcLottoBenefit();console.log(u.rank),document.querySelectorAll("td[data-rank-label]").forEach((t=>{var e=u.rank[Number(t.dataset.rankLabel)]||0;t.innerText=e+"개"})),T("#"+t.benefitRateLabel).innerText="당신의 총 수익률은 ".concat(u.benefitRate,"%입니다."),T(".modal").classList.add("open")}(e),[e.toggleMyLotto]:()=>{_(T("#"+t.toggleButton).checked)},[e.resetGame]:e=>function(e){e.setInit(),o=document.querySelector(".modal"),a=T("#"+t.toggleButton),r=T("#"+t.purchaseInput),s=a.checked,k(!1),o.classList.remove("open"),r.value="",r.focus(),document.getElementsByName(n.baseLottoNumbers).forEach((t=>t.value="")),document.getElementsByName(n.bonusLottoNumber).forEach((t=>t.value="")),T("#"+t.purchasedLottoAmountLabel).innerText="총 0개를 구매하였습니다.",T("#"+t.purchasedLottoViewer).innerHTML="",a.checked&&(_(s),a.checked=!1);var o,a,r,s}(e)},O=new WeakMap,x=new WeakMap;function I(t){return!(t<=0||t>r.maxLottoNumber)}function _(t){document.querySelectorAll(".lotto-detail").forEach((e=>{e.style.display=t?"":"none"}))}function k(e){if(e)return T("#"+t.purchasedLotto).classList.remove(o.displayNone),void T("#"+t.lottoAnswerInput).classList.remove(o.displayNone);T("#"+t.purchasedLotto).classList.add(o.displayNone),T("#"+t.lottoAnswerInput).classList.add(o.displayNone)}new class{constructor(){g(this,O,{writable:!0,value:void 0}),g(this,x,{writable:!0,value:void 0}),y(this,O,T("#"+t.luckyLottoContainer)),y(this,x,new v),new s(w(this,O)),this.setEvent()}setEvent(){w(this,O).addEventListener(c.onClick,(t=>{var e=t.target.dataset.event;console.log(t),e&&(console.log("on"),N[e](w(this,x)))})),T(".modal").addEventListener(c.onClick,(t=>{var n=t.target.dataset.event;n&&n===e.resetGame&&N[n](w(this,x))}))}};var R=document.querySelector(".modal-close"),S=document.querySelector(".modal");R.addEventListener("click",(()=>{S.classList.remove("open")}));
//# sourceMappingURL=index.debcc4ff.js.map
