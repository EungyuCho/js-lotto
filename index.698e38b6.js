var{BENEFIT_RATE_LABEL:e,LOTTO_ANSWER_INPUT:t,LUCKY_LOTTO_CONTAINER:n,PURCHAED_LOTTO_AMOUNT_LABEL:a,PURCHASE_INPUT:r,PURCHASED_LOTTO:o,TOGGLE_BUTTON:c,PURCHASED_LOTTO_VIEWER:s,TOGGLE_PURCHASE_MODE_BUTTON:_,MANUAL_LOTTO_CONTAINER:i,MANUAL_PURCHASE_CANCLE_BUTTON:T,MANUAL_PURCHASE_CONFIRM_BUTTON:l,MANUAL_LOTTO_MODAL:u}=Object.freeze({LUCKY_LOTTO_CONTAINER:"lucky-lotto-container",LOTTO_ANSWER_INPUT:"lotto-answer-input",PURCHASE_INPUT:"purchase-input",PURCHASED_LOTTO:"purchased-lotto",PURCHAED_LOTTO_AMOUNT_LABEL:"purchased-lotto-amount-label",PURCHASED_LOTTO_VIEWER:"purchased-lotto-viewer",BENEFIT_RATE_LABEL:"benefit-rate-label",TOGGLE_BUTTON:"TOGGLE_BUTTON",TOGGLE_PURCHASE_MODE_BUTTON:"TOGGLE_PURCHASE_PURCHASE_MODE_BUTTON",MANUAL_LOTTO_CONTAINER:"MANUAL_LOTTO_CONTAINER",MANUAL_PURCHASE_CANCLE_BUTTON:"MANUAL_PURCHASE_CANCLE_BUTTON",MANUAL_PURCHASE_CONFIRM_BUTTON:"MANUAL_PURCHASE_CONFIRM_BUTTON",MANUAL_LOTTO_MODAL:"MANUAL_LOTTO_MODAL"}),O=Object.freeze({purchase:"PURCHASE",toggleMyLotto:"TOGGLE_MY_LOTTO",toggleLottoPurchaseMode:"TOGGLE_LOTTO_PURCHASE_MODE",checkMyLottoResult:"CHECK_MY_LOTTO_RESULT",resetGame:"RESET_GAME",manualPurchaseCancle:"MANUAL_PURCHASE_CNACLE",manualPurchaseConfirm:"MANUAL_PURCHASE_CONFIRM"}),{BASE_LOTTO_NUMBERS:E,BONUS_LOTTO_NUMBER:A}=Object.freeze({BASE_LOTTO_NUMBERS:"BASE_LOTTO_NUMBERS",BONUS_LOTTO_NUMBER:"BONUS_LOTTO_NUMBER"}),{DISPLAY_NONE:L,MANUAL_LOTTO_NUMBER:N,MANUAL_LOTTO_NUMBER_CONTAINNER:m}=Object.freeze({DISPLAY_NONE:"d-none",MANUAL_LOTTO_NUMBER_CONTAINNER:"MANUAL_LOTTO_NUMBER_CONTAINNER",MANUAL_LOTTO_NUMBER:"MANUAL_LOTTO_NUMBER"}),{CY_BASE_LOTTO_INPUT:R,CY_BENEFIT_RATE_BUTTON:U,CY_BONUS_LOTTO_INPUT:d,CY_LOTTO_COUNT_LABEL:C,CY_LOTTO_DETAIL:h,CY_PURCHASE_BUTTON:M,CY_PURHCASE_INPUT:f,CY_RESET_GAME_BUTTON:v,CY_RESULT_LOTTO_BENEFIT_RATE_LABEL:b,CY_RESULT_LOTTO_RANK_LABEL:P,CY_TOGGLE_BUTTON:p,CY_TOGGLE_PURCHASE_MODE_BUTTON:S,CY_CONFIRM_MANUAL_PURCHASE:B,CY_CANCLE_MANUAL_PURCHASE:I,CY_MANUAL_LOTTO_INPUT:g}=Object.freeze({CY_PURHCASE_INPUT:"CY_PURCHASE_INPUT",CY_PURCHASE_BUTTON:"CY_PURCHASE_BUTTON",CY_LOTTO_COUNT_LABEL:"CY_LOTTO_COUNT_LABEL",CY_LOTTO_DETAIL:"CY_LOTTO_DETAIL",CY_RESULT_LOTTO_RANK_LABEL:"CY_RESULT_LOTTO_RANK_LABEL",CY_RESULT_LOTTO_BENEFIT_RATE_LABEL:"CY_RESULT_LOTTO_BENEFIT_RATE_LABEL",CY_BENEFIT_RATE_BUTTON:"CY_BENEFIT_RATE_BUTTON",CY_BASE_LOTTO_INPUT:"CY_BASE_LOTTO_INPUT",CY_BONUS_LOTTO_INPUT:"CY_BONUS_LOTTO_INPUT",CY_RESET_GAME_BUTTON:"CY_RESET_GAME_BUTTON",CY_TOGGLE_BUTTON:"CY_TOGGLE_BUTTON",CY_TOGGLE_PURCHASE_MODE_BUTTON:"CY_TOGGLE_PURCHASE_MODE_BUTTON",CY_CONFIRM_MANUAL_PURCHASE:"CY_CONFIRM_MANUAL_PURCHASE",CY_CANCLE_MANUAL_PURCHASE:"CY_CANCLE_MANUAL_PURCHASE",CY_MANUAL_LOTTO_INPUT:"CY_MANUAL_LOTTO_INPUT"});class w extends class{constructor(e){this.$target=e,this.setup(),this.setEvent(),this.render()}setup(){}template(){return""}setEvent(){}render(){this.$target.innerHTML=this.template()}}{template(){return'\n            <h1 class="text-center">🎱 행운의 로또</h1>\n            <form class="mt-5" onsubmit="document.querySelector(\'button[data-event=PURCHASE]\').click(); return false;">\n                <div class="d-flex justify-between">\n                    <label class="mb-2 d-inline-block">구입할 금액을 입력해주세요.</label>\n                    <label class="switch">\n                    <input type="checkbox" class="lotto-numbers-toggle-button" data-event="'.concat(O.toggleLottoPurchaseMode,'" id="').concat(_,'" data-test-element="').concat(S,'" />\n                    <span class="text-base font-normal">수동 구매하기</span>\n                    </label>\n                </div>\n                <div class="d-flex">\n                    <input\n                        id="').concat(r,'"\n                        type="number"\n                        class="w-100 mr-2 pl-2"\n                        placeholder="구입 금액"\n                        data-test-element="').concat(f,'"\n                    />\n                    <button type="button" class="btn btn-cyan" data-event="').concat(O.purchase,'" data-test-element="').concat(M,'">확인</button>\n                </div>\n            </form>\n            <section class="mt-9 ').concat(L,'" id="').concat(o,'">\n                <div class="d-flex">\n                <label class="flex-auto my-0" id="').concat(a,'" data-test-element="').concat(C,'"></label>\n                <div class="flex-auto d-flex justify-end pr-1">\n                    <label class="switch">\n                    <input type="checkbox" class="lotto-numbers-toggle-button" data-event="').concat(O.toggleMyLotto,'" id="').concat(c,'" data-test-element="').concat(p,'" />\n                    <span class="text-base font-normal">번호보기</span>\n                    </label>\n                </div>\n                </div>\n                <div class="d-flex flex-wrap" id="').concat(s,'"></div>\n            </section>\n            <form class="mt-9 ').concat(L,'" id="').concat(t,'">\n            <label class="flex-auto d-inline-block mb-3"\n                >지난 주 당첨번호 6개와 보너스 넘버 1개를 입력해주세요.</label\n            >\n            <div class="d-flex" onsubmit="event.preventDefault(); document.querySelector(\'button[data-event=CHECK_MY_LOTTO_RESULT]\').click(); return false;">\n                <div>\n                <h4 class="mt-0 mb-3 text-center">당첨 번호</h4>\n                <div>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                    <input\n                    data-test-element="').concat(R,'"\n                    name="').concat(E,'"\n                    type="number"\n                    class="winning-number mx-1 text-center"/>\n                </div>\n                </div>\n                <div class="bonus-number-container flex-grow">\n                <h4 class="mt-0 mb-3 text-center">보너스 번호</h4>\n                <div class="d-flex justify-center">\n                    <input type="number" class="bonus-number text-center" \n                    data-test-element="').concat(d,'" name="').concat(A,'"\n                     />\n                </div>\n                </div>\n            </div>\n            <button\n                type="button"\n                class="open-result-modal-button mt-5 btn btn-cyan w-100"\n                data-event="').concat(O.checkMyLottoResult,'"\n                data-test-element="').concat(U,'"\n            >\n                결과 확인하기!\n            </button>\n            </form>\n        ')}}var y=Object.freeze({price:1e3,maxLottoNumber:45,lottoNumberCount:7,maxMyLottoLimit:10}),x=Object.freeze({onClick:"click"}),{LOTTO_NUMBER_DUPLICATED_ERROR:H,LOTTO_NUMBER_EMPTY_ERROR:Y,LOTTO_NUMBER_OUT_OF_RANGE_ERROR:D,MY_LOTTO_LIMIT_ERROR:G,MANUAL_PURCHASE_AMOUNT_MESSAGE:k,MANUAL_PURCHASE_PROMPT_VALIDATION_ERROR:F,MANUAL_PURCHASE_PROMPT_NUMBER_OUT_OF_RANGE_ERROR:j,MANUAL_LOTTO_NUMBER_DUPLICATED_ERROR:z,MANUAL_LOTTO_NUMBER_VALIDATION_ERROR:W,MANUAL_LOTTO_AMOUNT_INCORRECT_ERROR:q}=Object.freeze({MY_LOTTO_LIMIT_ERROR:"로또는 ".concat(y.maxMyLottoLimit,"개 까지 구매할 수 있습니다."),LOTTO_NUMBER_OUT_OF_RANGE_ERROR:"로또 번호는 1번부터 ".concat(y.maxLottoNumber,"까지 입력 할 수 있습니다."),LOTTO_NUMBER_DUPLICATED_ERROR:"중복된 로또 번호가 있습니다.",LOTTO_NUMBER_EMPTY_ERROR:"입력되지 않거나 번호에 0을 입력한 로또 번호가 있습니다.",MANUAL_PURCHASE_AMOUNT_MESSAGE:"수동으로 구매 할 로또의 개수를 알려주세요.",MANUAL_PURCHASE_PROMPT_VALIDATION_ERROR:"숫자를 입력해주세요. 예) 5",MANUAL_PURCHASE_PROMPT_NUMBER_OUT_OF_RANGE_ERROR:"입력된 로또 개수가 유효하지 않습니다. (1 ~ ",MANUAL_LOTTO_NUMBER_VALIDATION_ERROR:"입력되지 않거나 입력한 번호가 유효하지 않은 입력창이 있습니다.",MANUAL_LOTTO_NUMBER_DUPLICATED_ERROR:"수동 구매 입력창에 중복된 로또 번호가 있습니다.",MANUAL_LOTTO_AMOUNT_INCORRECT_ERROR:"수동으로 구매한 로또의 개수가 유효하지 않습니다.(올바르지 않은 조작입니다.)"}),K=Object.freeze({fisrt:2e9,second:3e7,third:15e5,fourth:5e4,fifth:5e3}),V=Object.freeze({FIRST:6,SECOND:55,THIRD:5,FOURTH:4,FIFTH:5});function $(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function J(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,X(e,t,"get"))}function Q(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,X(e,t,"set"),n),n}function X(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Z={[V.FIFTH]:K.fifth,[V.FOURTH]:K.fourth,[V.THIRD]:K.third,[V.SECOND]:K.second,[V.FIRST]:K.fisrt},ee="auto_purchase",te="manual_purchase",ne=new WeakMap,ae=new WeakMap,re=new WeakMap,oe=new WeakMap,ce=new WeakMap;class se{constructor(){$(this,ne,{writable:!0,value:void 0}),$(this,ae,{writable:!0,value:void 0}),$(this,re,{writable:!0,value:void 0}),$(this,oe,{writable:!0,value:void 0}),$(this,ce,{writable:!0,value:void 0}),Q(this,oe,ee),this.initService()}initService(){Q(this,ae,y.price||1e3),Q(this,ne,[]),Q(this,re,{base:[],bonus:0}),Q(this,ce,{manualPurchaseAmount:0,totalPurchaseAmount:0})}manualPurchase(e){if(e.length!==J(this,ce).manualPurchaseAmount)return{success:!1,message:q};Q(this,ne,e);for(var t=J(this,ce).totalPurchaseAmount-J(this,ce).manualPurchaseAmount,n=0;n<t;n+=1)this.generateLottoNumber();return{success:!0}}autoPurchase(e,t){this.initService();for(var n=0;n<e;n+=1)this.generateLottoNumber(t?t[n]:null)}generateLottoNumber(e){J(this,ne).push(this.getLottoNumbers(e))}getLottoNumbers(e){if(e)return e.slice(0,6);for(var t,n,a=new Set;a.size!==y.lottoNumberCount-1;){var r=Math.floor((t=1,n=y.maxLottoNumber+1,Math.random()*(n-t)+t));a.has(r)||a.add(r)}return Array.from(a)}calcLottoBenefit(){var e=new Map;J(this,ne).forEach((t=>{var n=new Set,a=0;t.forEach((e=>{n.add(e)})),J(this,re).base.forEach((e=>{n.has(e)&&(a+=1)})),5===a&&t.includes(J(this,re).bonus)?e.set(V.SECOND,(e.get(V.SECOND)||0)+1):Z[a]&&e.set(a,(e.get(a)||0)+1)}));var t=0,n={};return e.forEach(((e,a)=>{t+=Z[a]*e,n[a]=e})),{benefitRate:Math.floor(t/(J(this,ne).length*y.price)*100-100),rank:n}}isPurcaseModeAuto(){return J(this,oe)===ee}changePurchaseMode(){Q(this,oe,this.isPurcaseModeAuto()?te:ee)}set manualPurchaseInfo(e){var{manualPurchaseAmount:t,totalPurchaseAmount:n}=e;Q(this,ce,{manualPurchaseAmount:t,totalPurchaseAmount:n})}set lottoAnswer(e){Q(this,re,e)}get myLottos(){return J(this,ne)}get lottoPrice(){return J(this,ae)}}var _e=e=>document.querySelector(e);function ie(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Te(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ue(e,t,"get"))}function le(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ue(e,t,"set"),n),n}function ue(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Oe={[O.purchase]:e=>function(e){var t=Number(_e("#"+r).value);if(0===t||t%e.lottoPrice!=0)return void alert(e.lottoPrice+"원 단위로 입력해주세요.");var n=t/e.lottoPrice;if(n>y.maxMyLottoLimit)return alert(G),_e("#"+r).value="",e.initService(),void me();if(me(),e.isPurcaseModeAuto())return e.autoPurchase(n),Re(!0),void de(e.myLottos);var a=Number(prompt(k+" (최대 ".concat(n,"개)")));if(isNaN(a))return void alert(F);if(a<1||a>n)return void alert(j+n+")");return e.manualPurchaseInfo={manualPurchaseAmount:a,totalPurchaseAmount:n},void function(e){Ue(!0);var t='\n    <div class="'.concat(m,' mt-5">\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" data-test-element="').concat(g,'"  />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" data-test-element="').concat(g,'"  />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" data-test-element="').concat(g,'"  />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" data-test-element="').concat(g,'"  />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" data-test-element="').concat(g,'"  />\n      <input class="').concat(N,' winning-number mx-1 text-center" type="number" data-test-element="').concat(g,'"  />\n    </div>\n  ');_e("#"+i).innerHTML=new Array(e).fill(t).join("")}(a)}(e),[O.checkMyLottoResult]:n=>function(n){var a=_e("#"+t),r=new FormData(a),o=r.getAll(E).map((e=>Number(e))),c=Number(r.get(A)),s=function(e,t){return function(e,t){if(!t)return!0;for(var n of e)if(!n)return!0;return!1}(e,t)?{error:!0,message:Y}:function(e,t){if(!Le(t))return!0;for(var n of e)if(!Le(n))return!0;return!1}(e,t)?{error:!0,message:D}:function(e,t){var n=e.length+1,a=new Set;for(var r of(a.add(t),e))a.add(r);return a.size!==n}(e,t)?{error:!0,message:H}:{error:!1}}(o,c);if(s.error)return void alert(s.message);n.lottoAnswer={base:o,bonus:c};var _=n.calcLottoBenefit();document.querySelectorAll("td[data-rank-label]").forEach((e=>{var t=_.rank[Number(e.dataset.rankLabel)]||0;e.innerText=t+"개"})),_e("#"+e).innerText="당신의 총 수익률은 ".concat(_.benefitRate,"%입니다."),_e(".modal").classList.add("open")}(n),[O.toggleMyLotto]:()=>{Ne(_e("#"+c).checked)},[O.resetGame]:e=>function(e){e.initService(),me()}(e),[O.toggleLottoPurchaseMode]:e=>function(e){e.changePurchaseMode()}(e),[O.manualPurchaseCancle]:e=>{Ue(!1)},[O.manualPurchaseConfirm]:e=>function(e){try{var t=(o=[],document.querySelectorAll("."+m).forEach((e=>{var t=new Set;e.querySelectorAll("."+N).forEach((e=>{var n=Number(e.value);if(n<=0||n>y.maxLottoNumber)throw new Error(W);if(t.has(n))throw new Error(z);t.add(n),6===t.size&&o.push([...t])}))})),o),{success:n,message:a}=e.manualPurchase(t);n||alert(a),Re(!0),de(e.myLottos),Ue(!1)}catch(e){var r=e.message;r===W&&r===z||alert(r)}var o}(e)},Ee=new WeakMap,Ae=new WeakMap;function Le(e){return e>=0&&e<y.maxLottoNumber}function Ne(e){document.querySelectorAll(".lotto-detail").forEach((t=>{t.style.display=e?"":"none"}))}function me(){var e=document.querySelector(".modal"),t=_e("#"+c),n=_e("#"+r),o=t.checked;Re(!1),e.classList.remove("open"),n.value="",n.focus(),document.getElementsByName(E).forEach((e=>e.value="")),document.getElementsByName(A).forEach((e=>e.value="")),_e("#"+a).innerText="총 0개를 구매하였습니다.",_e("#"+s).innerHTML="",t.checked&&(Ne(o),t.checked=!1)}function Re(e){if(e)return _e("#"+o).classList.remove(L),void _e("#"+t).classList.remove(L);_e("#"+o).classList.add(L),_e("#"+t).classList.add(L)}function Ue(e){if(e)return _e("#"+u).classList.remove(L),void(_e("#"+i).innerHTML="");_e("#"+u).classList.add(L)}function de(e){_e("#"+s).innerHTML="".concat(e.map((e=>{return t=e,'\n      <li class="mx-1 text-4xl lotto-wrapper">\n      <span class="lotto-icon">🎟️ </span>\n      <span class="lotto-detail" style="display: none;" data-test-element="'.concat(h,'"">').concat(t.reduce(((e,t)=>e+", "+t)),"</span>\n      </li>\n    ");var t})).join("")),_e("#"+a).innerText="총 ".concat(e.length,"개를 구매하였습니다."),_e("#"+a).dataset.count=e.length}new class{constructor(){ie(this,Ee,{writable:!0,value:void 0}),ie(this,Ae,{writable:!0,value:void 0}),le(this,Ee,_e("#"+n)),le(this,Ae,new se),new w(Te(this,Ee)),Te(this,Ae).lottoAnswer,this.setEvent()}setEvent(){Te(this,Ee).addEventListener(x.onClick,(e=>{var t=e.target.dataset.event;t&&Oe[t](Te(this,Ae))})),_e(".modal").addEventListener(x.onClick,(e=>{var t=e.target.dataset.event;t&&t===O.resetGame&&Oe[t](Te(this,Ae))})),_e("#"+u).addEventListener(x.onClick,(e=>{var t=e.target.dataset.event;t&&Oe[t](Te(this,Ae))}))}};var Ce=document.querySelector(".modal-close"),he=document.querySelector(".modal");Ce.addEventListener("click",(()=>{he.classList.remove("open")}));
//# sourceMappingURL=index.698e38b6.js.map
